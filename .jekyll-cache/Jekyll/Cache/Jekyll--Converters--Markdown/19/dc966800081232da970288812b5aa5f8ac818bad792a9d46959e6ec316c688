I"k<h3 id="å‡†å¤‡">å‡†å¤‡</h3>

<p>å®‰è£… windows powershell å’Œ Terminal</p>

<p>åº”ç”¨å•†åº— -&gt; æœç´¢powershell æˆ–è€… Terminal -&gt; å®‰è£…</p>

<h3 id="å¯ç”¨åŠŸèƒ½">å¯ç”¨åŠŸèƒ½</h3>

<p><img src="https://i.loli.net/2021/11/27/biwFqRVymHfea97.png" alt="image-20211123220941674" style="zoom:50%;" /></p>

<blockquote>
  <p>æˆ–è€…é€šè¿‡å‘½ä»¤è¡Œ</p>

  <p>admin æ¨¡å¼ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰æ‰“å¼€powershell</p>
</blockquote>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ä¸‹è½½wsl">ä¸‹è½½wsl</h3>

<p>ç‚¹æ­¤ä¸‹è½½å†…æ ¸æ›´æ–°åŒ… <a href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">X86</a></p>

<blockquote>
  <p>å®‰è£…å®Œåå¯èƒ½éœ€è¦é‡å¯</p>
</blockquote>

<h3 id="å®‰è£…ubuntu">å®‰è£…ubuntu</h3>

<blockquote>
  <p>ç®¡ç†å‘˜æƒé™</p>
</blockquote>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre> wsl <span class="nt">--set-default-version</span> 2
 wsl <span class="nt">--install</span> <span class="nt">-d</span> Ubuntu-20.04  <span class="c"># æœ¬æ¬¡é€‰æ‹©2004ç‰ˆæœ¬</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>æˆ–è€…æ‰“å¼€åº”ç”¨å•†åº—æœç´¢ â€œUbuntu 20.04â€å¹¶å®‰è£…</p>
</blockquote>

<p>å®‰è£…å®Œæˆåå¯åŠ¨ä¸€æ¬¡ï¼Œè®¾ç½®ç”¨æˆ·åå’Œå¯†ç </p>

<h3 id="è¿ç§»wslåˆ°éç³»ç»Ÿç›˜">è¿ç§»wslåˆ°éç³»ç»Ÿç›˜</h3>

<blockquote>
  <p>ä¸ºäº†é˜²æ­¢ç³»ç»Ÿç›˜è¿‡å¤§ï¼Œå»ºè®®è¿ç§»wslè‡³éç³»ç»Ÿç›˜</p>
</blockquote>

<p>å°†WSLå…³é—­</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>wsl <span class="nt">--shutdown</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å¯¼å‡ºåˆ°Fç›˜ï¼ˆå¯æ ¹æ®æƒ…å†µè‡ªå·±é€‰æ‹©ï¼‰</p>

<blockquote>
  <p>éœ€è¦WSLè¿™ä¸ªç›®å½•å­˜åœ¨</p>
</blockquote>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>wsl <span class="nt">--export</span> Ubuntu-20.04 F:<span class="se">\W</span>SL<span class="se">\U</span>buntu-20.04.tar
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æ³¨é”€ubuntu2004</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> wsl <span class="nt">--unregister</span> Ubuntu-20.04
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å¯¼å‡º</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>wsl <span class="nt">--import</span> Ubuntu-20.04 F:<span class="se">\W</span>SL<span class="se">\U</span>buntu-20.04 F:<span class="se">\W</span>SL<span class="se">\U</span>buntu-20.04.tar <span class="nt">--version</span> 2
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è®¾ç½®é»˜è®¤ç”¨æˆ·</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>ubuntu2004 config <span class="nt">--default-user</span> xinbo
</pre></td></tr></tbody></table></code></pre></div></div>

<p>åˆ é™¤taræ–‡ä»¶</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">rm </span>F:<span class="se">\W</span>SL<span class="se">\U</span>buntu-20.04.tar
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="é…ç½®é˜¿é‡Œäº‘ä»“åº“">é…ç½®é˜¿é‡Œäº‘ä»“åº“</h3>

<p>ç”¨ä¸‹é¢å†…å®¹æ›¿æ¢æ‰ /etc/apt/sources.list</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre>deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
   
deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
   
deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
   
deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
   
deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
</pre></td></tr></tbody></table></code></pre></div></div>

<p>æ›´æ–°ç¼“å­˜ å‡çº§</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get upgrade
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="é™åˆ¶wslå†…å­˜ä½¿ç”¨">é™åˆ¶WSLå†…å­˜ä½¿ç”¨</h3>

<p>å…ˆä½¿ç”¨ç®¡ç†å‘˜æƒé™ powershell å‘½ä»¤å…³é—­ wslï¼š <code class="language-plaintext highlighter-rouge">wsl --shutdown</code></p>

<p>æ¥ç€åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª .wslconfig æ–‡ä»¶ <code class="language-plaintext highlighter-rouge">C:\Users\&lt;yourUserName&gt;\.wslconfig</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š`</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>[wsl2]
memory=3GB
swap=3GB
localhostForwarding=true
</pre></td></tr></tbody></table></code></pre></div></div>

:ET